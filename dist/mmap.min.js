!function(t,e){function n(t,n){const a=e.select(t).style("overflow","hidden"),o=a.append("svg").attr("width","100%").attr("height","100%").append("g").call(c);o.append("rect").attr("width","100%").attr("height","100%").attr("fill","transparent").attr("pointer-events","all"),i.mmap=o.append("g").attr("class","mmap"),i.nodes=e.map([{id:"node0",x:parseInt(a.style("width"))/2,y:parseInt(a.style("height"))/2,background:"#f5f5f5",color:"#8d9f8e",font:18,name:"Root node"}],t=>t.id),i.selected="node0",l()}function a(){i.mmap.attr("transform","translate("+e.event.transform.x+","+e.event.transform.y+")scale("+e.event.transform.k+")")}function o(t){const n=e.select(this);n.attr("transform","translate("+(t.x=e.event.x)+","+(t.y=e.event.y)+")")}function r(t){i.selected=t.id}function s(t,e){return path=`M ${t.x} ${t.y}
              C ${(t.x+e.x)/2} ${t.y},
                ${(t.x+e.x)/2} ${e.y},
                ${e.x} ${e.y}`,path}function l(){const t=i.nodes.values(),e=i.mmap.selectAll(".node").data(t),n=e.enter().append("g").attr("class","node").attr("transform",t=>"translate("+t.x+","+t.y+")").call(d),a=n.append("ellipse").style("fill",t=>t.background),o=n.append("text").text(t=>t.name).style("fill",t=>t.color).style("font-size",t=>t.font);a.attr("rx",parseInt(o.style("width"))/2+25),a.attr("ry",parseInt(o.style("height"))/2+16),o.attr("dy",parseInt(o.style("height"))/2-5),e.exit().remove();const r=i.mmap.selectAll(".link").data(t.slice(1));r.enter().insert("path","g").attr("class","link").style("stroke",t=>t.color).attr("d",t=>s(t,t.parent)),r.exit().remove()}const i={},c=e.zoom().scaleExtent([.5,5]).on("zoom",a),d=e.drag().on("drag",o).on("start",r);t.mmap={init:n}}(this,window.d3);